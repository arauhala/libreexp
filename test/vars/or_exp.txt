example:

{!a, b, x}
{!a, !b, !x}
{a, !b, x}
{!a, b, x}
{a, !b, x}
{!a, !b, !x}
{a, !b, x}
{a, b, x}


results:

for train data:

n:          naive       reexp       
1           0.290       0.290       
2           0.332       0.237       
4           0.254       0.317       
8           0.206       0.232       
16          0.180       0.200       
32          0.161       0.173       
64          0.138       0.141       
128         0.118       0.098       
256         0.113       0.074       
512         0.105       0.042       

for test data:

n:          naive       reexp       
1           0.778       0.750       
2           0.820       0.756       
4           0.567       0.482       
8           0.385       0.465       
16          0.267       0.276       
32          0.228       0.190       
64          0.164       0.146       
128         0.120       0.126       
256         0.114       0.071       
512         0.095       0.057       

exps:

n:          naive       reexp       
1           0.000       0.000       
2           0.000       0.000       
4           0.000       0.000       
8           0.000       0.000       
16          0.000       0.000       
32          0.000       0.000       
64          0.000       0.000       
128         0.000       0.250       
256         0.000       0.375       
512         0.000       0.625       

